import{r,j as e,m as l,t as j}from"./index-DfHiWpns.js";import{d as M}from"./resourceSummary-CLv5rrj4.js";import{u as L,V as E}from"./VirtualizedList-CCFgsQ_9.js";import{L as F,M as T}from"./MathFormulaEditor-B9qpQx-l.js";function A(){const[i]=r.useState(M),[o,m]=r.useState(""),[x,g]=r.useState("all"),[s,p]=r.useState(null),[c,f]=r.useState([]),[n,y]=r.useState(!1),[k,N]=r.useState(0),{filteredItems:b}=L(i,o,["name","meaning","latex","symbol"]),v=r.useMemo(()=>["all",...Array.from(new Set(i.map(a=>a.category)))],[i]),d=r.useMemo(()=>b.filter(t=>x==="all"||t.category===x),[b,x]),h=t=>{p(t),f(a=>{const S=a.filter(C=>C.id!==t.id);return[t,...S].slice(0,5)}),N(a=>a+1)},u=t=>{navigator.clipboard.writeText(t).then(()=>{j.success("LaTeX代码已复制到剪贴板")})},w=(t,a)=>e.jsxs("div",{className:"flex items-center p-4 transition-colors border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("span",{className:"mr-4 font-mono text-2xl text-gray-900 dark:text-white",children:t.symbol}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.meaning}),e.jsx("span",{className:"inline-flex px-2 mt-1 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full dark:bg-green-900 dark:text-green-200",children:t.category})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>h(t),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"查看"}),e.jsx("button",{onClick:()=>u(t.latex),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"复制"})]})]});return e.jsx("div",{className:"min-h-screen px-4 py-12 bg-gradient-to-br from-green-50 to-emerald-100 dark:from-gray-900 dark:to-gray-800 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold text-gray-900 dark:text-white",children:"数学符号大全 (优化版)"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"全面的数学符号解释，包含名称、含义和使用示例"})]}),e.jsx(F,{topicId:"mathematical-symbols",topicTitle:"数学符号学习",totalSteps:i.length,currentStep:k,onProgressUpdate:t=>{console.log("学习进度更新:",t)}}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("i",{className:"text-gray-400 fa-solid fa-search"})}),e.jsx("input",{type:"text",placeholder:"搜索符号、名称或含义...",value:o,onChange:t=>m(t.target.value),className:"block w-full py-3 pl-10 pr-4 bg-white border border-gray-300 rounded-lg shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(t=>e.jsx("button",{onClick:()=>g(t),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${x===t?"bg-green-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:t==="all"?"全部":t},t))}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:()=>y(!n),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${n?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:[e.jsx("i",{className:"mr-2 fa-solid fa-calculator"}),"公式编辑器"]})})]})}),n&&e.jsx(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8",children:e.jsx(T,{onFormulaChange:(t,a)=>{console.log("公式变化:",t,a)}})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white shadow-lg dark:bg-gray-800 rounded-xl",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["符号列表 (",d.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("i",{className:"fa-solid fa-rocket"}),e.jsx("span",{children:"虚拟滚动优化"})]})]})}),d.length>0?e.jsx(E,{items:d,itemHeight:80,containerHeight:600,renderItem:w,className:"border-0"}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx("i",{className:"mb-4 text-5xl text-gray-400 fa-solid fa-search"}),e.jsx("h3",{className:"mb-1 text-lg font-medium text-gray-900 dark:text-white",children:"未找到符号"}),e.jsxs("p",{className:"max-w-md text-gray-500 dark:text-gray-400",children:['没有找到匹配"',o,'"的符号，请尝试其他搜索词或浏览全部符号']}),e.jsx("button",{onClick:()=>{m(""),g("all")},className:"px-4 py-2 mt-4 text-sm font-medium text-blue-600 border border-blue-600 rounded-lg dark:border-blue-400 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:"查看全部符号"})]}),d.length>0&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 dark:bg-gray-900 dark:border-gray-700",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["共 ",d.length," 个符号"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:()=>{const t=d.map(a=>`${a.symbol}	${a.name}	${a.latex}`).join(`
`);navigator.clipboard.writeText(t).then(()=>{j.success("符号列表已复制")})},className:"px-3 py-1 text-xs text-gray-700 bg-white border border-gray-300 rounded dark:text-gray-300 dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("i",{className:"mr-1 fa-solid fa-download"})," 导出列表"]})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[s&&e.jsx(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"bg-white shadow-lg dark:bg-gray-800 rounded-xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"符号详情"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 mb-4 bg-gray-100 rounded-full dark:bg-gray-700",children:e.jsx("span",{className:"font-mono text-3xl text-gray-900 dark:text-white",children:s.symbol})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.category})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"含义"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.meaning})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"示例"}),e.jsx("p",{className:"font-mono text-sm text-gray-600 dark:text-gray-400",children:s.example})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"LaTeX代码"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"flex-1 px-3 py-2 text-sm bg-gray-100 rounded dark:bg-gray-700 dark:text-gray-300",children:s.latex}),e.jsx("button",{onClick:()=>u(s.latex),className:"px-3 py-2 text-sm text-blue-600 border border-blue-600 rounded hover:bg-blue-50 dark:text-blue-400 dark:border-blue-400 dark:hover:bg-blue-900/20",children:"复制"})]})]})]})]})}),c.length>0&&e.jsx(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"bg-white shadow-lg dark:bg-gray-800 rounded-xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white",children:"最近查看"}),e.jsx("div",{className:"space-y-2",children:c.map(t=>e.jsxs("button",{onClick:()=>h(t),className:"flex items-center w-full p-2 text-left transition-colors rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("span",{className:"mr-3 font-mono text-xl text-gray-900 dark:text-white",children:t.symbol}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate dark:text-white",children:t.name}),e.jsx("div",{className:"text-xs text-gray-500 truncate dark:text-gray-400",children:t.category})]})]},t.id))})]})}),e.jsx(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"bg-white shadow-lg dark:bg-gray-800 rounded-xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white",children:"快速操作"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{m(""),g("all")},className:"flex items-center w-full p-2 text-left transition-colors rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("i",{className:"mr-3 text-blue-600 fa-solid fa-refresh dark:text-blue-400"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"重置筛选"})]}),e.jsxs("button",{onClick:()=>{const t=i[Math.floor(Math.random()*i.length)];h(t)},className:"flex items-center w-full p-2 text-left transition-colors rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("i",{className:"mr-3 text-green-600 fa-solid fa-random dark:text-green-400"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"随机符号"})]}),e.jsxs("button",{onClick:()=>y(!n),className:"flex items-center w-full p-2 text-left transition-colors rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("i",{className:"mr-3 text-purple-600 fa-solid fa-calculator dark:text-purple-400"}),e.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[n?"隐藏":"显示","公式编辑器"]})]})]})]})}),e.jsx(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.3},className:"bg-white shadow-lg dark:bg-gray-800 rounded-xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white",children:"学习统计"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 text-center rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:c.length}),e.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"已查看符号"})]}),e.jsxs("div",{className:"p-3 text-center rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[Math.round(c.length/i.length*100),"%"]}),e.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"完成进度"})]})]})]})})]})]})]})})}export{A as default};
