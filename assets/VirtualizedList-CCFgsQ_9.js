import{r,j as p,m as b}from"./index-DfHiWpns.js";function E({items:t,itemHeight:e,containerHeight:n,renderItem:i,overscan:s=5,className:h=""}){const[c,u]=r.useState(0),a=r.useRef(null),o=r.useMemo(()=>{const l=Math.floor(c/e),d=Math.min(l+Math.ceil(n/e),t.length-1),y=Math.max(0,l-s),S=Math.min(t.length-1,d+s);return{start:y,end:S}},[c,e,n,t.length,s]),m=r.useMemo(()=>t.slice(o.start,o.end+1),[t,o]),v=t.length*e,f=o.start*e,x=l=>{u(l.currentTarget.scrollTop)};return p.jsx("div",{ref:a,className:`overflow-auto ${h}`,style:{height:n},onScroll:x,children:p.jsx("div",{style:{height:v,position:"relative"},children:p.jsx("div",{style:{transform:`translateY(${f}px)`,position:"absolute",top:0,left:0,right:0},children:m.map((l,d)=>p.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{height:e},children:i(l,o.start+d)},o.start+d))})})})}function M(t,e,n,i=300){const[s,h]=r.useState(e),[c,u]=r.useState(t);return r.useEffect(()=>{const a=setTimeout(()=>{h(e)},i);return()=>clearTimeout(a)},[e,i]),r.useEffect(()=>{if(!s.trim()){u(t);return}const a=s.toLowerCase(),o=t.filter(m=>n.some(v=>{const f=m[v];return typeof f=="string"?f.toLowerCase().includes(a):!1}));u(o)},[t,s,n]),{filteredItems:c,debouncedQuery:s}}export{E as V,M as u};
